# Словарь (dict) — это изменяемая структура данных, которая хранит пары "ключ: значение".
# Ключи должны быть уникальными и неизменяемыми (например, строки, числа, кортежи),
# а значения могут быть любого типа.

# ===========================================================================
# СОЗДАНИЕ СЛОВАРЕЙ: ДВА ОСНОВНЫХ СПОСОБА
# ===========================================================================

# 1. Через фигурные скобки {} (предпочтительный способ)
empty_dict = {}  # пустой словарь
dict_literal = {'имя': 'Алиса', 'возраст': 25, 'город': 'Москва'}

# Особенности создания через {}:
# - Ключи могут быть любого неизменяемого типа
# - Строковые ключи обязательно в кавычках
# - Более высокая производительность

dict_with_different_keys = {
    'строка': 'значение',
    123: 'числовой ключ',
    (1, 2): 'кортеж как ключ',
    'список': [1, 2, 3]  # значение может быть любым
}

# 2. Через конструктор dict() (альтернативный способ)
dict_constructor = dict(имя='Боб', возраст=30, город='Санкт-Петербург')

# Особенности создания через dict():
# - Ключи могут быть ТОЛЬКО строками
# - Ключи указываются без кавычек (как параметры функции)
# - Удобен для создания из других структур данных

# dict(123='число')  # ОШИБКА! Ключи-не строки не допускаются

# Создание словаря из других структур данных через dict():
pairs = [('a', 1), ('b', 2)]  # список кортежей
dict_from_list = dict(pairs)  # {'a': 1, 'b': 2}

# КОГДА ЧТО ИСПОЛЬЗОВАТЬ:
# - {} - для обычных случаев, когда ключи и значения известны заранее
# - dict() - для создания из других структур или когда ключи только строки
# Вывод: Для обычных случаев используй {} - это быстрее и гибче.
# dict() полезен для специальных преобразований.

# Вывод словаря
print(dict_literal)

# Доступ к значениям по ключу
print(dict_literal['имя'])  # 'Алиса'

# Безопасный доступ с помощью метода get()
print(dict_literal.get('email'))  # None, если ключа нет
print(dict_literal.get('email', 'не указано'))  # значение по умолчанию

# Добавление и обновление элементов
# Если ключ существует — значение обновляется, если нет — создаётся новый элемент
dict_literal['email'] = 'alisa@example.com'
dict_literal['возраст'] = 26  # обновление

# Удаление элементов
removed_value = dict_literal.pop('город')  # удаляет элемент и возвращает его значение
print(removed_value)  # 'Москва'

# Метод del также может использоваться для удаления
# del dict_literal['город']  # вызовет ошибку, если ключа нет

# Проверка наличия ключа в словаре
if 'email' in dict_literal:
    print("Email найден")

# Перебор элементов словаря
for key in dict_literal:
    print(key, dict_literal[key])

# Или с помощью метода items() — сразу пары ключ-значение
for key, value in dict_literal.items():
    print(f"{key}: {value}")

# Получение всех ключей, значений и пар ключ-значение
keys = dict_literal.keys()
values = dict_literal.values()
items = dict_literal.items()

print(keys)
print(values)
print(items)

# Объединение словарей
other_data = {'хобби': 'чтение', 'страна': 'Россия'}
dict_literal.update(other_data)  # объединяет словари

# Копирование словаря
copy_dict = dict_literal.copy()

# Вложенные словари
nested_dict = {
    'пользователь1': {'имя': 'Алиса', 'возраст': 25},
    'пользователь2': {'имя': 'Боб', 'возраст': 30}
}
print(nested_dict['пользователь1']['имя'])  # 'Алиса'

# Полезные методы словаря:
# clear() — очищает словарь
# popitem() — удаляет и возвращает последнюю пару ключ-значение
# setdefault(key, default) — возвращает значение по ключу, если ключа нет — создаёт его

# setdefault() - это метод словаря, который выполняет две операции одновременно:
    # Проверяет наличие ключа в словаре
    # Устанавливает значение по умолчанию, если ключ отсутствует

example_dict = {'а': 1, 'б': 2}
example_dict.setdefault('в', 3)  # добавит ключ 'в', если его нет
print(example_dict)


# ===========================================================================
# ПРОСТЫЕ И РАСПРОСТРАНЕННЫЕ ПРИМЕРЫ СЛОВАРЕЙ
# ===========================================================================

print("ПРОСТЫЕ ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ СЛОВАРЕЙ")

# 1. СЛОВАРЬ ПЕРЕВОДА (самый понятный пример)
print("\n1. СЛОВАРЬ ПЕРЕВОДА:")

english_to_russian = {
    'apple': 'яблоко',
    'cat': 'кот',
    'dog': 'собака',
    'house': 'дом',
    'book': 'книга'
}

# Простой перевод
word = 'cat'
if word in english_to_russian:
    print(f"{word} -> {english_to_russian[word]}")
else:
    print("Слово не найдено")

# Перевод с помощью get()
word = 'apple'
translation = english_to_russian.get(word, 'нет перевода')
print(f"{word} -> {translation}")

# 2. ПОДСЧЕТ ЧАСТОТЫ СЛОВ (очень популярная задача)
print("\n2. ПОДСЧЕТ ЧАСТОТЫ СЛОВ:")

text = "яблоко груша яблоко банан груша яблоко"
words = text.split()

# Создаем пустой словарь для подсчета
word_count = {}

# Подсчитываем слова
for word in words:
    if word in word_count:
        word_count[word] += 1
    else:
        word_count[word] = 1

print("Частота слов:")
for word, count in word_count.items():
    print(f"  {word}: {count}")

# Более короткий способ с get()
word_count_simple = {}
for word in words:
    word_count_simple[word] = word_count_simple.get(word, 0) + 1

print("Тот же результат:")
print(word_count_simple)

# 3. ТЕЛЕФОННАЯ КНИГА (классический пример)
print("\n3. ТЕЛЕФОННАЯ КНИГА:")

contacts = {'Маша': '+7-911-123-45-67',
            'Петя': '+7-912-987-65-43',
            'Саша': '+7-913-555-44-33',
            'Оля': '+7-914-222-11-22'}

# Добавляем контакт

# Ищем номер
name = 'Маша'
if name in contacts:
    print(f"Телефон {name}: {contacts[name]}")

# Выводим все контакты
print("Все контакты:")
for name, phone in contacts.items():
    print(f"  {name}: {phone}")

# 4. ЦЕНЫ ТОВАРОВ (магазин)
print("\n4. ЦЕНЫ ТОВАРОВ:")

prices = {
    'хлеб': 50,
    'молоко': 80,
    'яйца': 120,
    'сыр': 400
}

# Рассчитываем стоимость покупки
cart = ['хлеб', 'молоко', 'хлеб', 'сыр']
total = 0

print("Чек:")
for item in cart:
    price = prices[item]
    total += price
    print(f"  {item}: {price} руб.")

print(f"ИТОГО: {total} руб.")

# 5. ОЦЕНКИ СТУДЕНТОВ (школа/университет)
print("\n5. ОЦЕНКИ СТУДЕНТОВ:")

grades = {'математика': 5, 'русский язык': 4, 'физика': 3, 'химия': 4, 'биология': 5}

# Добавляем оценку

# Считаем средний балл
average = sum(grades.values()) / len(grades)
print(f"Средний балл: {average:.2f}")

# Выводим все предметы и оценки
print("Оценки по предметам:")
for subject, grade in grades.items():
    print(f"  {subject}: {grade}")

# 6. НАСТРОЙКИ ПРИЛОЖЕНИЯ (конфигурация)
print("\n6. НАСТРОЙКИ ПРИЛОЖЕНИЯ:")

settings = {'language': 'русский', 'theme': 'светлая', 'notifications': True, 'volume': 80}

# Меняем настройку

# Проверяем включены ли уведомления
if settings['notifications']:
    print("Уведомления включены")

print("Текущие настройки:")
for key, value in settings.items():
    print(f"  {key}: {value}")

# 7. СЛОВАРЬ СИНОНИМОВ
print("\n7. СЛОВАРЬ СИНОНИМОВ:")

synonyms = {
    'красивый': ['прекрасный', 'великолепный', 'очаровательный'],
    'большой': ['крупный', 'огромный', 'громадный'],
    'умный': ['разумный', 'интеллектуальный', 'смышленый']
}

# Ищем синонимы для слова
word = 'красивый'
if word in synonyms:
    print(f"Синонимы к '{word}': {', '.join(synonyms[word])}")

# 8. ПРОСТОЙ СЧЕТЧИК
print("\n8. СЧЕТЧИК ГОЛОСОВ:")

votes = {}

# Голосуем
candidates = ['Анна', 'Борис', 'Анна', 'Виктор', 'Борис', 'Анна']

for candidate in candidates:
    votes[candidate] = votes.get(candidate, 0) + 1

print("Результаты голосования:")
for candidate, vote_count in votes.items():
    print(f"  {candidate}: {vote_count} голосов")


